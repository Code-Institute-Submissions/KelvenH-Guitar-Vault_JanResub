{% extends "base.html" %}
{% load static %}

{% block page_header %}
    <!--Empty container to push body content below nav bars-->
    <div class="container header-container">
        <div class="row">
            <div class="col"></div>
        </div>
    </div>
    
{% endblock %}

{% block content %}
    <div class="container">
        <div class="col-12">
            <!--Welcome banner and links to subscription plans and Guitar Vault-->

            <div class="row">
                <div class="col main-content mt-1">

                    {% if request.user.is_authenticated %}
                        <h1 class="gold-special-txt my-4">Welcome back to the Guitar Vault {{ request.user }}!</h1>
                        
                        <div class="d-flex justify-content-evenly pb-2">
                            <a href="{% url 'guitars' %}" class="btn btn-lg btn-gold-outline btn-wide">Members Access to the  <span class="logo-txt">Guitar Vault</span></a>
                            <a href="{% url 'profile' %}" class="btn btn-lg btn-gold-outline btn-wide">View and Manage Your Profile</a>
                        </div>

                    {% else %}
                        <h1 class="gold-special-txt my-4">Welcome to the Guitar Vault</h1>

                        <div class="d-flex justify-content-evenly pb-2">
                            <a href="{% url 'guitars' %}" class="btn btn-lg btn-gold-outline">Take a peek inside the vault!</a>
                            <a href="{% url 'subscriptions' %}" class="btn btn-lg btn-gold-outline">New? View our subscription plans</a>
                        </div>
                    {% endif %}
                </div>      
            </div>          <!--Close Welcome row-->

            <!--Featured Row -->

            <div class="row">
                <div class="col-12 main-content mt-2">
                    <h1 class="gold-special-txt my-4">Featured Guitars</h1> 

                    <div id="featured-carousel" class="carousel slide" data-bs-touch="false" data-bs-ride="carousel">
                        <div class="carousel-inner py-2">
                            <div class="carousel-item active">
                                <div class="row">
                                    <div class="col-12 col-md-4 d-flex justify-content-center">
                                        <a href="{% url 'guitar_detail' display_id.0 %}" class="guitar-image-link">
                                            <img src="{{ display_image.0 }}" class="rounded d-block carousel-img" alt="Featured guitar image">
                                        </a>
                                    </div>
                                    <div class="d-none d-md-flex col-md-4 justify-content-center">
                                        <a href="{% url 'guitar_detail' display_id.1 %}" class="guitar-image-link">
                                            <img src="{{ display_image.1 }}" class="rounded d-block carousel-img" alt="Featured guitar image">
                                        </a>
                                    </div>
                                    <div class="d-none d-md-flex col-md-4 justify-content-center">
                                        <a href="{% url 'guitar_detail' display_id.2 %}" class="guitar-image-link">
                                            <img src="{{ display_image.2 }}" class="rounded d-block carousel-img" alt="Featured guitar image">
                                        </a>
                                    </div>
                                </div>
                            </div>  <!--close carousel item (pane 1) -->

                            <div class="carousel-item">
                                <div class="row">
                                    <div class="col-12 col-md-4 d-flex justify-content-center">
                                        <a href="{% url 'guitar_detail' display_id.3 %}" class="guitar-image-link">
                                            <img src="{{ display_image.3 }}" class="rounded d-block carousel-img" alt="Featured guitar image">
                                        </a>
                                    </div>
                                    <div class="d-sm-none d-md-flex col-md-4 justify-content-center">
                                        <a href="{% url 'guitar_detail' display_id.4 %}" class="guitar-image-link">
                                            <img src="{{ display_image.4 }}" class="rounded d-block carousel-img" alt="Featured guitar image">
                                        </a>
                                    </div>
                                    <div class="d-sm-none d-md-flex col-md-4 justify-content-center">
                                        <a href="{% url 'guitar_detail' display_id.5 %}" class="guitar-image-link">
                                            <img src="{{ display_image.5 }}" class="rounded d-block carousel-img" alt="Featured guitar image">
                                        </a>
                                    </div>
                                </div>
                            </div>  <!--close carousel item (pane 2) -->

                        </div>      <!--close carousel inner -->
                    </div>          <!--close featured carousel -->
                </div>              <!--close main content col -->
            </div>                  <!--close Featured row -->



            
            <!--Outstanding : Content for parts of this section has not been completed - please refer to README -->

            <div class="row">
                <!-- About-->
                <div class="col-12 col-md-guttered main-content my-2">
                    <div class="col-12">
                        <h1 class="gold-special-txt my-4">About Guitar Vault</h1>
                        <div class="row mb-4">
                            <div class="col-12 col-md-6">
                                <button type="button" class="btn btn-lg btn-gold-outline w-100" data-bs-toggle="modal" data-bs-target="#gv-explained-Modal">
                                    Guitar Vault Explained
                                </button>
                            </div>
                            <div class="col-12 col-md-6">
                                <a href="{% url 'subscriptions' %}" class="btn btn-lg btn-gold-outline w-100">Our Subscription Plans</a>
                            </div>
                        </div>
                        <div class="row mb-4">
                            <div class="col-12 col-md-6">
                                <button type="button" class="btn btn-lg btn-gold-outline w-100" data-bs-toggle="modal" data-bs-target="#gv-FAQ-Modal">
                                    FAQ
                                </button>
                            </div>
                            <div class="col-12 col-md-6">
                                <button type="button" class="btn btn-lg btn-gold-outline w-100" data-bs-toggle="modal" data-bs-target="#gv-contact-Modal">
                                    Contact US
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!--Empty column to force gutter - see bug fix in related CSS-->
                <div class="d-none d-md-block col-md-gutter"></div>

                <!--Users Poll-->
                <!--Outstanding : Conent and functionality relating to feedback poll has not been completed  - please refer to README -->
                <div class="col-12 col-md-guttered main-content my-2">
                    <div class="col-12">
                        {% if request.user.is_authenticated %}
                            <h1 class="gold-special-txt my-4">How Are We Doing?</h1>
                            <h4 class="gold-special-txt">* COMING SOON *</h4>
                            <p class="gold-txt mt-4">We'll soon be conducting a brief survey to help shape the future of our service</h4>
                        {% else %}
                            <h1 class="gold-special-txt my-4">Members Feedback</h1>
                            <!---JS cycles through a series of pre-written feedback comments and member names-->
                            <div class=" gold-txt lg-txt d-flex">
                                <p><i class="gold-txt fas fa-quote-left"></i>
                                <span><em id="members-feedback" class="px-2"></em></span>
                                <i class="gold-txt fas fa-quote-right align-self-end"></i>
                                </p>
                            </div>
                            <p class="text-muted"> - <span id="member"></span></p>
                            
                        {% endif %}
                    </div>
                </div>
            </div>
        </div> <!--close main central column-->           
    </div>
  
{% endblock %}
